<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:head>
</h:head>
<h:body>
	<h1>cadastro de Dependentes</h1>

	<h:form id="form">

		<table>

			<tr>
				<td>Responsavel:</td>
				<td><p:selectOneMenu value="#{dependenteBean.idPessoaFisica}"
						id="paciente">
						<f:selectItems value="#{dependenteBean.listPessoaFisica}"
							var="pessoaFisica" itemLabel="#{pessoaFisica.pessoa.nome}"
							itemValue="#{pessoaFisica.id}" />
					</p:selectOneMenu></td>
			</tr>
			<tr>
				<td>Nome:</td>
				<th><p:inputText
						value="#{dependenteBean.dependente.nomeDependente}" /></th>
			</tr>
			<tr>
				<td>Municipio:</td>
				<th><p:inputText value="#{dependenteBean.dependente.municipio}" /></th>
			</tr>
			<tr>
				<td>UF:</td>
				<th><p:inputText value="#{dependenteBean.dependente.uf}" /></th>
			</tr>
		</table>
		<h:commandButton action="#{dependenteBean.create()}" value="Enviar" />
		<br />
		<br />
		<p:dataTable var="dependente" paginator="true" selectionmode="on"
			value="#{dependenteBean.listDependente}">
			<p:column headerText="Nome dependente">
				<h:outputText value="#{dependente.nomeDependente}" />
			</p:column>
			<p:column headerText="Data de nascimento">
				<h:outputText value="#{dependente.dataNascimento}" />
			</p:column>
			<p:column headerText="Nome responsavel">
				<h:outputText value="#{dependente.pessoaFisica.pessoa.nome}" />
			</p:column>
			<p:column headerText="CPF responsavel">
				<h:outputText value="#{dependente.pessoaFisica.cpf}" />
			</p:column>

			<p:column headerText="Municipio">
				<h:outputText value="#{dependente.municipio}" />
			</p:column>

			<p:column headerText="Editar">
				<h:commandLink action="#{dependenteBean.update()}" value="update" />
			</p:column>
			<p:column headerText="">
				<h:commandLink value="Delete"
					action="#{pacienteBean.deleteExameAction(exame)}" />
			</p:column>
			<p:column headerText="Name">
				<p:commandLink value="#{dependente.nomeDependente}"
					oncomplete="PF('test').show()" update="form:dialog">
					<f:setPropertyActionListener target="#{dependenteBean.dependente}"
						value="#{dependente}" />
				</p:commandLink>
			</p:column>
		</p:dataTable>


		<p:dialog modal="true" width="500" height="500" widgetVar="test"
			id="dialog">
			<table>
				<tr>
					<td>Name :</td>
					<td><h:inputText
							value="#{dependenteBean.dependente.nomeDependente}" /></td>
				</tr>
				<tr>
					<td>Municipio :</td>
					<td><h:inputText value="#{dependenteBean.dependente.municipio}" />
					</td>
				</tr>
				<tr><td>
				<h:commandButton action="#{dependenteBean.edit()}" value="Enviar" /></td></tr>
			</table>
		</p:dialog>

	</h:form>

</h:body>
</html>