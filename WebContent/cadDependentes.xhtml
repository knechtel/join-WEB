<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:head>
</h:head>
<h:body>
	<h1>cadastro de Dependentes</h1>

	<h:form>

		<table>

			<tr>
				<td>Responsavel:</td>
				<td><p:selectOneMenu value="#{dependenteBean.idPessoaFisica}"
						id="paciente">
						<f:selectItems value="#{dependenteBean.listPessoaFisica}"
							var="pessoaFisica" itemLabel="#{pessoaFisica.pessoa.nome}"
							itemValue="#{pessoaFisica.id}" />
					</p:selectOneMenu></td>
			</tr>
			<tr>
				<td>Nome:</td>
				<th><p:inputText
						value="#{dependenteBean.dependente.nomeDependente}" /></th>
			</tr>
			<tr>
				<td>Municipio:</td>
				<th><p:inputText value="#{dependenteBean.dependente.municipio}" /></th>
			</tr>
			<tr>
				<td>UF:</td>
				<th><p:inputText value="#{dependenteBean.dependente.uf}" /></th>
			</tr>

			<tr>
				<td>Data de nascimento</td>
				<td><p:calendar id="button1"
						value="#{dependenteBean.dependente.dataNascimento}"
						pattern="dd/MM/yyyy" showOn="button" /></td>
			</tr>
		</table>
		<h:commandButton action="#{dependenteBean.create()}" value="Enviar" />
		<br />
		<br />
		<p:dataTable var="dependente" paginator="true" selectionmode="on"
			value="#{dependenteBean.listDependente}">
			<p:column headerText="Nome dependente">
				<h:outputText value="#{dependente.nomeDependente}" />
			</p:column>
			<p:column headerText="Data de nascimento">
				<h:outputText value="#{dependente.dataNascimento}" />
			</p:column>
			<p:column headerText="Nome responsavel">
				<h:outputText value="#{dependente.pessoaFisica.pessoa.nome}" />
			</p:column>
			<p:column headerText="CPF responsavel">
				<h:outputText value="#{dependente.pessoaFisica.cpf}" />
			</p:column>

			<p:column headerText="Municipio">
				<h:outputText value="#{dependente.municipio}" />
			</p:column>


			<p:column headerText="Delete">
				<h:commandLink value="Delete"
					 action="#{dependenteBean.delete(dependente)}"/>
			</p:column>
			
			<p:column headerText="editar">
				<p:commandLink value="Editar" action="#{dependenteBean.doEdit(dependente)}" />
				
			</p:column>
		</p:dataTable>


	</h:form>

</h:body>
</html>